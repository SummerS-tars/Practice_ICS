# exercise 09 进程

## 目标

1. 使用进程和信号相关的工具
2. 利用信号和非局部跳转实现特定功能

## 一  在linux下使用相关的命令操作进程，阅读对应的manpage了解相关功能，请将作业完成过程形成文档并提交

1. 用top查看系统当中进程的信息，并根据manpage中的信息来解释观察到的信息。
    a)    按h来显示在线帮助。
    b)    显示指定的程序对应的进程，例如top自己。
    c)    根据占用内存大小来排序。

2.    Shell中作业的管理：
    a)    用ctrl+z暂停/挂起当前任务。
    b)    用jobs来列出当前shell中的作业。
    c)    用fg命令来恢复(resume)指定的作业。

3.    在一个shell中执行多个任务，例如top等。在另外一个shell中，用kill发送
    信号完成特定任务：
    a)    杀死指定的进程。
    b)    杀死一个进程组。

提示：man 7 signal用来查看Linux中支持的信号。

## 二  根据要求编程，需提交代码和说明文档。

1.    按照要求实现C程序：
    a)    程序打印自己的进程id和进程组id。
    b)    创建一个子进程，在子进程内打印进程id和进程组id。
    c)    创建一个子进程，并把子进程的组id设为子进程的id；在子进程内打印进
        程id和进程组id。

提示：阅读setpgid/getpgid的api说明。

2.    设定一个C程序执行下列功能：
    a)    从控制台读取输入，例如字符串"Hello Process!";
    b)    程序进入死循环：
        1)    创建1-3个子进程；
        2)    子进程休眠1秒，打印输入的字符串。
        3)    父进程休眠1秒，打印"Processing..."
    c)    父进程捕获sigchld来回收子进程。

3.    对2.2中的程序进行改造，要求完成下列功能：
    a)    主程序可以接收键盘输入或者kill发送的信号。
    b)    收到A信号后，用户输入新的字符串，例如“Hello World!”。
    c)    收到B信号后，主程序跳出死循环，打印"Exiting!"，然后退出。
    d)    主程序收到A信号后，解释观察到的子进程的输出情况。

提示：使用非局部跳转。